export const jsInterpreterDescription = "Run a JavaScript snippet inside the browser and return its result. The code runs with DOM helpers preloaded.\n\nHelpers available in the interpreter scope:\n\n- `x(xpath, root?)`: returns an array of nodes that match the XPath. `root` can be a Node, XPath string, or an array from `x(...)`. The search is scoped to the agent view root by default. Use `x(\"/\")[0]` to access the root container.\n- `replaceSubtree(target, next)`: replaces a node with another node or HTML string. `target` can be a Node, an XPath string, or the array returned by `x(...)`.\n- `diffSubtree(a, b)`: returns `{ equal, before, after }` using `Node.isEqualNode()` for equality and serialized HTML/text for the diff.\n- `viewRoot`, `document`, `window`: convenience references to the scoped root and browser globals.\n- `$`: jQuery alias when available (falls back to `undefined` if jQuery is not loaded).\n\nExamples:\n\n```js\n// Replace the entire canvas\nreplaceSubtree(x(\"/\")[0], `\n  <div class=\"card\">\n    <h2>New Title</h2>\n    <p>Updated by the agent.</p>\n  </div>\n`);\n\n// Find and update an element\nconst title = x(\"//h2\")[0];\nif (title) title.textContent = \"Updated\";\n\n// Compare two subtrees\nconst diff = diffSubtree(x(\"//section\")[0], x(\"//section\")[1]);\n```";
